{"version":3,"sources":["lib/solana/nft-utils.ts","lib/solana/config.ts","lib/harmony/config.ts","lib/harmony/nft-utils.ts","lib/solana/utils.ts","App.tsx","index.tsx"],"names":["transferNftsToGame","unityContext","ownerAddress","a","CONNECTION","getParsedTokenAccountsByOwner","programId","TOKEN_PROGRAM_ID","tokenAccounts","index","value","length","tokenAccount","tokenAmount","account","data","parsed","info","console","log","amount","decimals","anchor","PublicKey","findProgramAddress","Buffer","from","TOKEN_METADATA_PROGRAM_ID","toBuffer","mint","pda","getParsedAccountInfo","accountInfo","metadata","Metadata","toString","axios","get","uri","collection","family","nftJsonData","JSON","stringify","Address","Name","name","ImageUrl","image","Image","send","Connection","process","SPIRIT_TOKEN_ADDRESS","HARMONY_WARRIOR_TESTNET_ADDRESS","transferHarmonyNftsToGame","smartContract","methods","walletOfOwner","call","tokenIds","i","tokenURI","result","getNFTDataFromLink","fetchedData","link","Httpreq","XMLHttpRequest","open","parse","responseText","getTokenBalance","wallet","address","response","undefined","uiAmount","TokenContract","MintableNFT","UnityContext","loaderUrl","dataUrl","frameworkUrl","codeUrl","webglContextAttributes","preserveDrawingBuffer","App","userWallet","useState","displayWallets","setdisplayWallets","useEffect","on","progression","loadingPanel","document","getElementById","progressBarFull","style","display","width","nftAddress","nftName","xhr","url","setRequestHeader","onreadystatechange","readyState","status","removeEventListener","loadWeb3","window","ethereum","web3","Web3","enable","currentProvider","alert","loadBlockchainData","eth","net","getId","networkId","networkData","networks","contract","Contract","abi","getAccounts","accounts","connectWalletToBuildSolana","adapter","connect","publicKey","spiritTokenAmount","connectWalletToBuildHarmony","id","className","onClick","getPhantomWallet","getSlopeWallet","getSolflareWallet","getSolletWallet","devicePixelRatio","src","ReactDOM","render"],"mappings":"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","file":"static/js/main.c9699d9f.chunk.js","sourcesContent":["import * as anchor from \"@project-serum/anchor\";\r\nimport { CONNECTION, TOKEN_METADATA_PROGRAM_ID } from \"./config\";\r\nimport { Metadata } from '@metaplex-foundation/mpl-token-metadata';\r\nimport { TOKEN_PROGRAM_ID,  } from '@solana/spl-token';\r\nimport { UnityContext } from \"react-unity-webgl\";\r\nimport axios from \"axios\";\r\n\r\nexport async function getNftsForOwner(ownerAddress: anchor.web3.PublicKey) {\r\n\tconst allTokens: any = []\r\n\tconst tokenAccounts = await CONNECTION.getParsedTokenAccountsByOwner(ownerAddress, {\r\n\t  programId: TOKEN_PROGRAM_ID\r\n\t});\r\n\r\n\tfor (let index = 0; index < tokenAccounts.value.length; index++) {\r\n\t  const tokenAccount = tokenAccounts.value[index];\r\n\t  const tokenAmount = tokenAccount.account.data.parsed.info.tokenAmount;\r\n\r\n    console.log(tokenAccount.account.data.parsed.info);\r\n      \r\n\t  if (tokenAmount.amount == \"1\" && tokenAmount.decimals == \"0\") {\r\n\t\ttry {\r\n            let [pda] = await anchor.web3.PublicKey.findProgramAddress([\r\n                Buffer.from(\"metadata\"),\r\n                TOKEN_METADATA_PROGRAM_ID.toBuffer(),\r\n                (new anchor.web3.PublicKey(tokenAccount.account.data.parsed.info.mint)).toBuffer(),\r\n              ], TOKEN_METADATA_PROGRAM_ID);\r\n              const accountInfo: any = await CONNECTION.getParsedAccountInfo(pda);\r\n        \r\n              const metadata: any = new Metadata(ownerAddress.toString(), accountInfo.value);\r\n              const { data }: any = await axios.get(metadata.data.data.uri)\r\n      \r\n              if(data.collection.family != \"CyberGothica\") continue;\r\n\r\n\t\t\t  allTokens.push({ Address: tokenAccount.account.data.parsed.info.mint, Name: data.name, ImageUrl: data.image, Image: null })\r\n        }\r\n        catch (error: any) {\r\n            console.log(error.toString());\r\n        }\r\n\t  }\r\n\t  allTokens.sort(function (a: any, b: any) {\r\n\t\tif (a.name < b.name) { return -1; }\r\n\t\tif (a.name > b.name) { return 1; }\r\n\t\treturn 0;\r\n\t  })\r\n\t}\r\n  \r\n\treturn allTokens\r\n  }\r\n\r\n  export async function transferNftsToGame(unityContext: UnityContext, ownerAddress: anchor.web3.PublicKey) {\r\n\tconst tokenAccounts = await CONNECTION.getParsedTokenAccountsByOwner(ownerAddress, {\r\n\t  programId: TOKEN_PROGRAM_ID\r\n\t});\r\n\r\n\tfor (let index = 0; index < tokenAccounts.value.length; index++) {\r\n\t  const tokenAccount = tokenAccounts.value[index];\r\n\t  const tokenAmount = tokenAccount.account.data.parsed.info.tokenAmount;\r\n\r\n    console.log(tokenAccount.account.data.parsed.info);\r\n      \r\n\t  if (tokenAmount.amount == \"1\" && tokenAmount.decimals == \"0\") {\r\n\t\ttry {\r\n            let [pda] = await anchor.web3.PublicKey.findProgramAddress([\r\n                Buffer.from(\"metadata\"),\r\n                TOKEN_METADATA_PROGRAM_ID.toBuffer(),\r\n                (new anchor.web3.PublicKey(tokenAccount.account.data.parsed.info.mint)).toBuffer(),\r\n              ], TOKEN_METADATA_PROGRAM_ID);\r\n              const accountInfo: any = await CONNECTION.getParsedAccountInfo(pda);\r\n        \r\n              const metadata: any = new Metadata(ownerAddress.toString(), accountInfo.value);\r\n              const { data }: any = await axios.get(metadata.data.data.uri)\r\n      \r\n              if(data.collection.family != \"CyberGothica\") continue;\r\n              \r\n\t\t\t        const nftJsonData = JSON.stringify({ Address: tokenAccount.account.data.parsed.info.mint, Name: data.name, ImageUrl: data.image, Image: null });\r\n          \t  unityContext.send(\"UserWallet\", \"ReceiveNft\", nftJsonData);\r\n        }\r\n        catch (error: any) {\r\n            console.log(error.toString());\r\n        }\r\n\t  }\r\n\t}\r\n  }\r\n","import * as anchor from \"@project-serum/anchor\";\r\nimport { WalletAdapterNetwork } from \"@solana/wallet-adapter-base\";\r\n\r\nexport const NETWORK = process.env.REACT_APP_SOLANA_NETWORK as WalletAdapterNetwork;\r\nexport const CONNECTION = new anchor.web3.Connection(process.env.REACT_APP_SOLANA_RPC_HOST!);\r\nexport const TREASURY = new anchor.web3.PublicKey(process.env.REACT_APP_TREASURY_ADDRESS!);\r\nexport const SPIRIT_TOKEN_ADDRESS = new anchor.web3.PublicKey(\"9bPoFPCwGCVGDMC5gvzisPdjgKC6tRLRDhirJvcktgVh\");\r\nexport const TOKEN_METADATA_PROGRAM_ID = new anchor.web3.PublicKey('metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s');\r\n\r\nexport const HARMONY_WARRIOR_TESTNET_ADDRESS = \"0x2BaB6c2E8499139031a1835F30cfC87d61DF88eB\";","export const HARMONY_WARRIOR_TESTNET_ADDRESS = \"0x2BaB6c2E8499139031a1835F30cfC87d61DF88eB\";","import { UnityContext } from \"react-unity-webgl\";\r\nimport { HARMONY_WARRIOR_TESTNET_ADDRESS } from \"./config\";\r\n\r\nexport async function transferHarmonyNftsToGame(unityContext: UnityContext, smartContract: any, account: any) {\r\n    console.log(smartContract);\r\n    const tokenIds = await smartContract.methods\r\n        .walletOfOwner(account)\r\n        .call();\r\n\r\n    console.log(tokenIds);\r\n\r\n    for(let i = 0; i < tokenIds.length; i++) {\r\n        const result = await smartContract.methods.tokenURI(tokenIds[i]).call();\r\n        \r\n        const fetchedData = await getNFTDataFromLink(result);\r\n        const nftJsonData = JSON.stringify({ Address: `${HARMONY_WARRIOR_TESTNET_ADDRESS}__${tokenIds[i]}`, Name: fetchedData.name, ImageUrl: fetchedData.image, Image: null });\r\n        console.log(nftJsonData);\r\n        unityContext.send(\"UserWallet\", \"ReceiveNft\", nftJsonData);\r\n    }\r\n}\r\n\r\nconst getNFTDataFromLink = async (link: string) => {\r\n    var Httpreq = new XMLHttpRequest();\r\n    Httpreq.open(\"GET\", link, false);\r\n    Httpreq.send(null);\r\n    return JSON.parse(Httpreq.responseText);     \r\n}","import { CONNECTION } from \"./config\";\r\nimport { PublicKey } from \"@solana/web3.js\";\r\n\r\nexport const getTokenBalance = async (wallet: PublicKey, address: PublicKey) => {\r\n    const response: any = await CONNECTION.getParsedTokenAccountsByOwner(wallet, \r\n        {mint: address}    \r\n    );\r\n\r\n    if(!response || response === undefined) return 0;\r\n    if(!response.value || response.value === undefined || response.value.length === 0) return 0;\r\n    if(!response.value[0] || response.value[0] === undefined) return 0;\r\n    if(!response.value[0].account || response.value[0].account === undefined) return 0;\r\n\r\n    return response.value[0].account.data.parsed.info.tokenAmount.uiAmount;\r\n}","import React, { DOMElement, useEffect, useState } from \"react\";\r\nimport Unity, { UnityContext } from \"react-unity-webgl\";\r\nimport {\r\n\tgetPhantomWallet,\r\n\tgetSlopeWallet,\r\n\tgetSolflareWallet,\r\n\tgetSolletWallet\r\n} from \"@solana/wallet-adapter-wallets\";\r\nimport { transferNftsToGame } from \"./lib/solana/nft-utils\";\r\nimport { transferHarmonyNftsToGame } from \"./lib/harmony/nft-utils\";\r\nimport { getTokenBalance } from \"./lib/solana/utils\";\r\nimport { SPIRIT_TOKEN_ADDRESS } from \"./lib/solana/config\";\r\nimport MintableNFT from './lib/harmony/abi/MintableNFT.json';\r\nimport Web3 from 'web3';\r\n\r\nconst TokenContract = MintableNFT as any;\r\n\r\ndeclare var window: any\r\n\r\nconst unityContext = new UnityContext({\r\n  loaderUrl: \"Build/cg-build.loader.js\",\r\n  dataUrl: \"Build/cg-build.data\",\r\n  frameworkUrl: \"Build/cg-build.framework.js\",\r\n  codeUrl: \"Build/cg-build.wasm\",\r\n  webglContextAttributes: {\r\n    preserveDrawingBuffer: true,\r\n  },\r\n});\r\n\r\nexport const App = () => {\r\n  const [account, setAccount]=useState<any>('')\r\n\r\n  const [displayWallets, setdisplayWallets] = useState(false);\r\n  let userWallet: any;\r\n  \r\n  useEffect(function () {\r\n    unityContext.on(\"ConnectWallet\", async function () {\r\n      setdisplayWallets(true);\r\n    });\r\n    \r\n    unityContext.on(\"progress\", function (progression) {\r\n      const loadingPanel = document.getElementById(\"#unity-loading-bar\");\r\n      const progressBarFull = document.getElementById(\"#unity-progress-bar-full\");\r\n      \r\n      if(loadingPanel !== null && progressBarFull !== null) {\r\n        loadingPanel.style.display = \"block\";  \r\n        progressBarFull.style.width = 100 * progression + \"%\";\r\n\r\n        if(progression >= 1) {\r\n          loadingPanel.style.display = \"none\";\r\n        }\r\n      } \r\n    });\r\n\r\n    unityContext.on(\"RegisterNewNft\", function (nftAddress, nftName) {\r\n        console.log(nftAddress);\r\n        console.log(nftName);\r\n        var url = process.env.REACT_APP_LEADERBOARD_DB_URI;\r\n\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\"POST\", url + \"/register\");\r\n\r\n        xhr.setRequestHeader(\"Accept\", \"application/json\");\r\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\r\n        xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4) {\r\n            console.log(xhr.status);\r\n            console.log(xhr.responseText);\r\n        }};\r\n\r\n        var data = `{\"token_address\": \"${nftAddress}\", \"character_name\": \"${nftName}\"}`;\r\n\r\n        xhr.send(data);\r\n    });\r\n\r\n    return function () {\r\n      unityContext.removeEventListener(\"progress\");\r\n    };\r\n\r\n  }, []); \r\n  \r\n  const loadWeb3 = async () => {\r\n  //you code here\r\n    if (window.ethereum) {\r\n      window.web3 = new Web3(window.ethereum)\r\n      await window.ethereum.enable()\r\n    }\r\n    \r\n    else if (window.web3) {\r\n      window.web3 = new Web3(window.web3.currentProvider)\r\n    }\r\n    else {\r\n      window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\r\n    }\r\n  }\r\n  \r\n  const loadBlockchainData = async () => {\r\n    const web3 = window.web3\r\n    const networkId = await web3.eth.net.getId()\r\n    const networkData = TokenContract.networks[networkId];\r\n\r\n    if(networkData) {\r\n      const contract = new web3.eth.Contract(TokenContract.abi, networkData.address)  \r\n\r\n      const accounts = await web3.eth.getAccounts()\r\n      \r\n      unityContext.send(\"UserWallet\", \"ReceiveWalletInfo\", accounts[0]);     \r\n      unityContext.send(\"UserWallet\", \"SetSpiritAmount\", 0);\r\n\r\n      await transferHarmonyNftsToGame(unityContext, contract, accounts[0]);\r\n    } \r\n    else {\r\n      window.alert('Smart contract not deployed to detected network.')\r\n    }\r\n  }\r\n    \r\n  const connectWalletToBuildSolana = async (wallet: any) => {\r\n    if(wallet == null || wallet == undefined) {\r\n      console.log(\"Wallet not found!\");\r\n      return;\r\n    }\r\n\r\n    const adapter = wallet.adapter();\r\n    await adapter.connect();\r\n    userWallet = adapter;\r\n\r\n    if(userWallet.publicKey !== null) {\r\n        unityContext.send(\"UserWallet\", \"ReceiveWalletInfo\", userWallet.publicKey.toString());\r\n        const spiritTokenAmount = await getTokenBalance(userWallet.publicKey, SPIRIT_TOKEN_ADDRESS); \r\n        \r\n        unityContext.send(\"UserWallet\", \"SetSpiritAmount\", spiritTokenAmount);\r\n        setdisplayWallets(false);\r\n\r\n        transferNftsToGame(unityContext, userWallet.publicKey);\r\n        // const nftsData = await getNftsForOwner(userWallet.publicKey);\r\n\r\n        // for(let i = 0; i < nftsData.length; i++) {\r\n        //   const nftJsonData = JSON.stringify(nftsData[i]);\r\n        //   unityContext.send(\"UserWallet\", \"ReceiveNft\", nftJsonData);\r\n        // }\r\n    }\r\n  }\r\n\r\n  const connectWalletToBuildHarmony = async () => {\r\n    await loadWeb3();\r\n    await loadBlockchainData();\r\n\r\n    setdisplayWallets(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      { displayWallets ? \r\n        <div id=\"wallet-connector\">\r\n          <div id=\"wallet-adapters-holder\">\r\n            <div id=\"wallet-adapters-title\">SELECT WALLET</div>\r\n              <div id=\"wallet-adapters-list\">\r\n                <button className=\"wallet-adapters-list-button\" onClick={() => connectWalletToBuildSolana(getPhantomWallet())}>\r\n                    Phantom\r\n                </button>\r\n                <button className=\"wallet-adapters-list-button\" onClick={() => connectWalletToBuildSolana(getSlopeWallet())}>\r\n                    Slope\r\n                </button>\r\n                <button className=\"wallet-adapters-list-button\" onClick={() => connectWalletToBuildSolana(getSolflareWallet())}>\r\n                    Solflare\r\n                </button>\r\n                <button className=\"wallet-adapters-list-button\" onClick={() => connectWalletToBuildSolana(getSolletWallet())}>\r\n                    Sollet\r\n                </button>\r\n                <button className=\"wallet-adapters-list-button\" onClick={() => connectWalletToBuildHarmony()}>\r\n                    Metamask\r\n                </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      : null }\r\n      <Unity devicePixelRatio={1} unityContext={unityContext} className=\"unity-canvas\" />\r\n      <div id=\"unity-loading-bar\">\r\n        <img id=\"game-logo\" src=\"logo.png\" />\r\n        <div id=\"unity-progress-bar-empty\">\r\n          <div id=\"unity-progress-bar-full\"></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default App;\r\n\r\n\r\n","import { StrictMode } from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n    <StrictMode>\r\n        <App />\r\n    </StrictMode>,\r\n    document.getElementById('unity-container'),\r\n);\r\n"],"sourceRoot":""}